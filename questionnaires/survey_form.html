<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPeCtrum ì„¤ë¬¸ì¡°ì‚¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .progress-bar {
            height: 8px;
            background: #e0e0e0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .content {
            padding: 40px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 1.8em;
            color: #667eea;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .question {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.1em;
        }

        .hint {
            font-size: 0.9em;
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 10px;
        }

        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        .scale-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .scale-option {
            flex: 1;
            min-width: 80px;
        }

        .scale-option input[type="radio"] {
            display: none;
        }

        .scale-option label {
            display: block;
            padding: 12px;
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .scale-option input[type="radio"]:checked + label {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            transform: scale(1.05);
        }

        .scale-option label:hover {
            border-color: #667eea;
        }

        .scale-legend {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.85em;
            color: #7f8c8d;
        }

        .list-input {
            margin-bottom: 10px;
        }

        .list-input input {
            margin-top: 5px;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 15px;
        }

        button {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(17, 153, 142, 0.3);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .completion-message {
            text-align: center;
            padding: 60px 20px;
        }

        .completion-message h2 {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 20px;
        }

        .completion-message p {
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 30px;
        }

        .char-count {
            text-align: right;
            font-size: 0.85em;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .char-count.warning {
            color: #e74c3c;
        }

        .example {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            font-size: 0.9em;
        }

        .example-title {
            font-weight: 600;
            color: #856404;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ SPeCtrum</h1>
            <p>ë‹¤ì°¨ì›ì  ì •ì²´ì„± í‘œí˜„ í”„ë ˆì„ì›Œí¬</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="content">
            <!-- Welcome Section -->
            <div class="section active" id="section-0">
                <div class="section-title">í™˜ì˜í•©ë‹ˆë‹¤! ğŸ‘‹</div>
                <div style="padding: 20px;">
                    <h3 style="margin-bottom: 15px;">SPeCtrum ì„¤ë¬¸ì¡°ì‚¬ì— ì°¸ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</h3>
                    <p style="margin-bottom: 20px; line-height: 1.8;">
                        ì´ ì„¤ë¬¸ì¡°ì‚¬ëŠ” ê·€í•˜ì˜ ë‹¤ì°¨ì›ì  ì •ì²´ì„±ì„ ì´í•´í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
                        ì´ 3ê°œ ì„¹ì…˜ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ì™„ë£Œí•˜ëŠ” ë° ì•½ 1ì‹œê°„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤.
                    </p>

                    <div style="background: #e8f4f8; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4 style="color: #667eea; margin-bottom: 10px;">ğŸ“‹ ì„¤ë¬¸ êµ¬ì„±</h4>
                        <ul style="list-style-position: inside; line-height: 2;">
                            <li><strong>ì„¹ì…˜ 1:</strong> ì‚¬íšŒì  ì •ì²´ì„± (ì•½ 10ë¶„)</li>
                            <li><strong>ì„¹ì…˜ 2:</strong> ê°œì¸ì  ì •ì²´ì„± - ì„±ê²© ë° ê°€ì¹˜ê´€ (ì•½ 20ë¶„)</li>
                            <li><strong>ì„¹ì…˜ 3:</strong> ê°œì¸ ìƒí™œ ë§¥ë½ (ì•½ 30ë¶„)</li>
                        </ul>
                    </div>

                    <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0;">
                        <h4 style="color: #856404; margin-bottom: 10px;">ğŸ’¡ ì‘ë‹µ ê°€ì´ë“œ</h4>
                        <ul style="list-style-position: inside; line-height: 2;">
                            <li>ì†”ì§í•˜ê³  ì •ì§í•˜ê²Œ ë‹µë³€í•´ì£¼ì„¸ìš”</li>
                            <li>ì •ë‹µì€ ì—†ìŠµë‹ˆë‹¤. ê·€í•˜ì˜ ìƒê°ì„ ê·¸ëŒ€ë¡œ í‘œí˜„í•´ì£¼ì„¸ìš”</li>
                            <li>êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í• ìˆ˜ë¡ ë” ì •í™•í•œ í”„ë¡œí•„ì´ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤</li>
                        </ul>
                    </div>

                    <p style="margin-top: 20px; color: #7f8c8d; font-size: 0.9em;">
                        ğŸ”’ ëª¨ë“  ì‘ë‹µì€ ìµëª…ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©°, ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <!-- Section 1: Social Identity -->
            <div class="section" id="section-1">
                <div class="section-title">ì„¹ì…˜ 1: ì‚¬íšŒì  ì •ì²´ì„±</div>
                <p style="margin-bottom: 30px; color: #7f8c8d;">
                    ê·€í•˜ì˜ ì¸êµ¬í†µê³„í•™ì  ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤. í¸ì•ˆí•˜ê²Œ ì‘ë‹µí•´ì£¼ì„¸ìš”.
                </p>

                <div class="question">
                    <div class="question-text">1. ê·€í•˜ì˜ ì—°ë ¹ëŒ€ëŠ” ì–´ë–»ê²Œ ë˜ì‹­ë‹ˆê¹Œ?</div>
                    <div class="hint">ì˜ˆ: 20ëŒ€, 30ëŒ€, ë˜ëŠ” êµ¬ì²´ì  ë‚˜ì´</div>
                    <input type="text" id="age" placeholder="ì—°ë ¹ëŒ€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>

                <div class="question">
                    <div class="question-text">2. ê·€í•˜ì˜ ìƒë¬¼í•™ì  ì„±ë³„ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?</div>
                    <select id="sex">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="ë‚¨ì„±">ë‚¨ì„±</option>
                        <option value="ì—¬ì„±">ì—¬ì„±</option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                        <option value="ì‘ë‹µ ê±°ë¶€">ì‘ë‹µ ê±°ë¶€</option>
                    </select>
                </div>

                <div class="question">
                    <div class="question-text">3. ê·€í•˜ì˜ í˜„ì¬ ì§ì—… ìƒíƒœëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?</div>
                    <select id="occupation">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="ì „ì¼ì œ ê·¼ë¬´">ì „ì¼ì œ ê·¼ë¬´ (ì£¼ 35ì‹œê°„ ì´ìƒ)</option>
                        <option value="ì‹œê°„ì œ ê·¼ë¬´">ì‹œê°„ì œ ê·¼ë¬´ (ì£¼ 35ì‹œê°„ ë¯¸ë§Œ)</option>
                        <option value="ìì˜ì—…">ìì˜ì—…</option>
                        <option value="í•™ìƒ">í•™ìƒ</option>
                        <option value="êµ¬ì§ ì¤‘">êµ¬ì§ ì¤‘</option>
                        <option value="ì€í‡´">ì€í‡´</option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                    </select>
                </div>

                <p style="color: #7f8c8d; font-size: 0.9em; margin-top: 20px;">
                    ğŸ’¾ ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ëª¨ë“  21ê°œ ì§ˆë¬¸ì´ í‘œì‹œë©ë‹ˆë‹¤.
                </p>
            </div>

            <!-- Section 2: Personal Identity -->
            <div class="section" id="section-2">
                <div class="section-title">ì„¹ì…˜ 2: ê°œì¸ì  ì •ì²´ì„± - ì„±ê²©</div>
                <p style="margin-bottom: 30px; color: #7f8c8d;">
                    ë‹¤ìŒ ë¬¸ì¥ë“¤ì„ ì½ê³ , ê° ë¬¸ì¥ì´ ê·€í•˜ë¥¼ ì–¼ë§ˆë‚˜ ì˜ ì„¤ëª…í•˜ëŠ”ì§€ 1-7ì  ì²™ë„ë¡œ í‰ê°€í•´ì£¼ì„¸ìš”.
                </p>

                <div class="question">
                    <div class="question-text">1. ë‚˜ëŠ” ì™¸í–¥ì ì´ê³  ì—´ì •ì ì´ë‹¤.</div>
                    <div class="scale-options">
                        <div class="scale-option">
                            <input type="radio" name="bfi_1" value="1" id="bfi_1_1">
                            <label for="bfi_1_1">1</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_1" value="2" id="bfi_1_2">
                            <label for="bfi_1_2">2</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_1" value="3" id="bfi_1_3">
                            <label for="bfi_1_3">3</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_1" value="4" id="bfi_1_4">
                            <label for="bfi_1_4">4</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_1" value="5" id="bfi_1_5">
                            <label for="bfi_1_5">5</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_1" value="6" id="bfi_1_6">
                            <label for="bfi_1_6">6</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_1" value="7" id="bfi_1_7">
                            <label for="bfi_1_7">7</label>
                        </div>
                    </div>
                    <div class="scale-legend">
                        <span>ì „í˜€ ë™ì˜í•˜ì§€ ì•ŠìŒ</span>
                        <span>ì¤‘ë¦½</span>
                        <span>ë§¤ìš° ë™ì˜í•¨</span>
                    </div>
                </div>

                <div class="question">
                    <div class="question-text">2. ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ë™ì •ì‹¬ê³¼ ì¹œì ˆí•¨ì„ ëŠë‚€ë‹¤.</div>
                    <div class="scale-options">
                        <div class="scale-option">
                            <input type="radio" name="bfi_2" value="1" id="bfi_2_1">
                            <label for="bfi_2_1">1</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_2" value="2" id="bfi_2_2">
                            <label for="bfi_2_2">2</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_2" value="3" id="bfi_2_3">
                            <label for="bfi_2_3">3</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_2" value="4" id="bfi_2_4">
                            <label for="bfi_2_4">4</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_2" value="5" id="bfi_2_5">
                            <label for="bfi_2_5">5</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_2" value="6" id="bfi_2_6">
                            <label for="bfi_2_6">6</label>
                        </div>
                        <div class="scale-option">
                            <input type="radio" name="bfi_2" value="7" id="bfi_2_7">
                            <label for="bfi_2_7">7</label>
                        </div>
                    </div>
                    <div class="scale-legend">
                        <span>ì „í˜€ ë™ì˜í•˜ì§€ ì•ŠìŒ</span>
                        <span>ì¤‘ë¦½</span>
                        <span>ë§¤ìš° ë™ì˜í•¨</span>
                    </div>
                </div>

                <p style="color: #7f8c8d; font-size: 0.9em; margin-top: 20px;">
                    ğŸ’¾ ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” BFI-2-S 30ë¬¸í•­ + PVQ 21ë¬¸í•­ì´ í‘œì‹œë©ë‹ˆë‹¤.
                </p>
            </div>

            <!-- Section 3: Life Context -->
            <div class="section" id="section-3">
                <div class="section-title">ì„¹ì…˜ 3: ê°œì¸ ìƒí™œ ë§¥ë½</div>
                <p style="margin-bottom: 30px; color: #7f8c8d;">
                    ê·€í•˜ì˜ ì¼ìƒ ìƒí™œê³¼ ì„ í˜¸ë„ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.
                </p>

                <div class="question">
                    <div class="question-text">ê·€í•˜ê°€ ì¢‹ì•„í•˜ëŠ” ê²ƒ 5ê°€ì§€ë¥¼ ë‚˜ì—´í•´ì£¼ì„¸ìš”</div>
                    <div class="hint">ì·¨ë¯¸, í™œë™, ìŒì‹, ìŒì•…, ì˜í™”, ì±…, ì¥ì†Œ ë“± êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”</div>
                    <div class="list-input">
                        <div style="margin-bottom: 8px;">1. <input type="text" id="love_1" placeholder="ì˜ˆ: ë¹„ ì˜¤ëŠ” ë‚  ì°½ê°€ì—ì„œ ì±… ì½ê¸°"></div>
                        <div style="margin-bottom: 8px;">2. <input type="text" id="love_2" placeholder="ì˜ˆ: ìƒˆë²½ì— ì¡°ê¹…í•˜ê¸°"></div>
                        <div style="margin-bottom: 8px;">3. <input type="text" id="love_3" placeholder="ì˜ˆ: ì¹œêµ¬ë“¤ê³¼ ë³´ë“œê²Œì„ í•˜ê¸°"></div>
                        <div style="margin-bottom: 8px;">4. <input type="text" id="love_4" placeholder="ì˜ˆ: ì¬ì¦ˆ ìŒì•… ë“£ê¸°"></div>
                        <div style="margin-bottom: 8px;">5. <input type="text" id="love_5" placeholder="ì˜ˆ: í•´ì™¸ ì—¬í–‰ ê³„íš ì„¸ìš°ê¸°"></div>
                    </div>
                </div>

                <div class="question">
                    <div class="question-text">í‰ì¼ í•˜ë£¨ ì¼ê³¼ë¥¼ ìƒì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”</div>
                    <div class="hint">ì•„ì¹¨ì— ì¼ì–´ë‚˜ëŠ” ì‹œê°„ë¶€í„° ì ë“¤ê¸° ì „ê¹Œì§€ ì „í˜•ì ì¸ í‰ì¼ ì¼ê³¼ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš” (ìµœì†Œ 450ì ê¶Œì¥)</div>
                    <textarea id="weekday_routine" placeholder="ì˜ˆì‹œ: í‰ì¼ì—ëŠ” ë³´í†µ ì˜¤ì „ 6ì‹œ 30ë¶„ì— ì•ŒëŒì´ ìš¸ë¦¬ë©´ ì¼ì–´ë‚©ë‹ˆë‹¤..."></textarea>
                    <div class="char-count" id="weekday_count">0 / 450ì</div>

                    <div class="example">
                        <div class="example-title">âœï¸ ì‘ì„± ì˜ˆì‹œ</div>
                        í‰ì¼ì—ëŠ” ë³´í†µ ì˜¤ì „ 6ì‹œ 30ë¶„ì— ì•ŒëŒì´ ìš¸ë¦¬ë©´ ì¼ì–´ë‚©ë‹ˆë‹¤. ì¼ì–´ë‚˜ìë§ˆì ì¹¨ëŒ€ë¥¼ ì •ë¦¬í•˜ê³ , í™”ì¥ì‹¤ì—ì„œ ì„¸ìˆ˜ì™€ ì–‘ì¹˜ë¥¼ í•œ í›„ ê°„ë‹¨í•œ ìŠ¤íŠ¸ë ˆì¹­ì„ 15ë¶„ ì •ë„ í•©ë‹ˆë‹¤. ì•„ì¹¨ ì‹ì‚¬ë¡œëŠ” ì£¼ë¡œ í† ìŠ¤íŠ¸ì™€ ì»¤í”¼ë¥¼ ë¨¹ìœ¼ë©°, ê·¸ë‚  í•´ì•¼ í•  ì¼ë“¤ì„ ì •ë¦¬í•©ë‹ˆë‹¤...
                    </div>
                </div>
            </div>

            <!-- Completion Section -->
            <div class="section" id="section-complete">
                <div class="completion-message">
                    <h2>ğŸ‰ ì„¤ë¬¸ ì™„ë£Œ!</h2>
                    <p>ì†Œì¤‘í•œ ì‹œê°„ì„ ë‚´ì–´ ì„¤ë¬¸ì— ì°¸ì—¬í•´ì£¼ì…”ì„œ ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p>
                    <p style="font-size: 0.9em;">ê·€í•˜ì˜ ì‘ë‹µì€ ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                    <button class="btn-success" onclick="downloadData()">ğŸ“¥ ì‘ë‹µ ë°ì´í„° ë‹¤ìš´ë¡œë“œ</button>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="nav-buttons">
                <button class="btn-secondary" id="prevBtn" onclick="changeSection(-1)" style="display: none;">ì´ì „</button>
                <button class="btn-primary" id="nextBtn" onclick="changeSection(1)">ì‹œì‘í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 0;
        const totalSections = 5; // Welcome + 3 sections + Complete

        // Update character count for textarea
        document.getElementById('weekday_routine')?.addEventListener('input', function() {
            const count = this.value.length;
            const countEl = document.getElementById('weekday_count');
            countEl.textContent = `${count} / 450ì`;
            if (count < 450) {
                countEl.classList.add('warning');
            } else {
                countEl.classList.remove('warning');
            }
        });

        function changeSection(direction) {
            const sections = document.querySelectorAll('.section');
            sections[currentSection].classList.remove('active');

            currentSection += direction;

            if (currentSection < 0) currentSection = 0;
            if (currentSection >= totalSections) currentSection = totalSections - 1;

            sections[currentSection].classList.add('active');
            updateButtons();
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            if (currentSection === 0) {
                prevBtn.style.display = 'none';
                nextBtn.textContent = 'ì‹œì‘í•˜ê¸°';
            } else if (currentSection === totalSections - 1) {
                prevBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'block';
                nextBtn.style.display = 'block';
                nextBtn.textContent = currentSection === totalSections - 2 ? 'ì œì¶œí•˜ê¸°' : 'ë‹¤ìŒ';
            }
        }

        function updateProgress() {
            const progress = (currentSection / (totalSections - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function downloadData() {
            const data = {
                timestamp: new Date().toISOString(),
                social_identity: {
                    age: document.getElementById('age')?.value || '',
                    sex: document.getElementById('sex')?.value || '',
                    occupation: document.getElementById('occupation')?.value || ''
                },
                personal_identity: {
                    bfi_responses: {
                        bfi_1: document.querySelector('input[name="bfi_1"]:checked')?.value || '',
                        bfi_2: document.querySelector('input[name="bfi_2"]:checked')?.value || ''
                    }
                },
                life_context: {
                    loves: [
                        document.getElementById('love_1')?.value || '',
                        document.getElementById('love_2')?.value || '',
                        document.getElementById('love_3')?.value || '',
                        document.getElementById('love_4')?.value || '',
                        document.getElementById('love_5')?.value || ''
                    ],
                    weekday_routine: document.getElementById('weekday_routine')?.value || ''
                }
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `spectrum_survey_${Date.now()}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Initialize
        updateButtons();
        updateProgress();
    </script>
</body>
</html>
